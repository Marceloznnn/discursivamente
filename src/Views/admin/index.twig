{% extends 'layouts/main.twig' %}

{% block title %}Dashboard - Admin{% endblock %}

{% block styles %}
  {{ parent() }}
  <link rel="stylesheet" href="/assets/css/admin/global_dashboard.css">
{% endblock %}

{% block content %}
  <div class="admin-dashboard-container">
    <header class="admin-dashboard-header">
      <h1>Painel de Administração</h1>
      <div class="welcome-message">
        Bem-vindo, {{ session.user.name }}
      </div>
    </header>

    <section class="admin-stats">
      <div class="stat-card">
        <h3>Usuários</h3>
        <div class="count">{{ userCount }}</div>
      </div>
      <div class="stat-card">
        <h3>Eventos</h3>
        <div class="count">{{ eventCount }}</div>
      </div>
      <div class="stat-card">
        <h3>Cursos Ativos</h3>
        <div class="count">{{ courseCount }}</div>
      </div>
      <div class="stat-card">
        <h3>Newsletter</h3>
        <div class="count">{{ newsletterCount }}</div>
        <a href="/admin/newsletter" class="stat-link">Gerenciar</a>
      </div>
      <div class="stat-card">
        <h3>Suporte</h3>
        <div class="count">{{ supportCallsCount }}</div>
        <div class="subtitle">Chamadas</div>
      </div>
    </section>

    <section class="admin-sections">
      <div class="section-card">
        <h3>Usuários</h3>
        <p>Gerencie, edite e crie novos usuários do sistema.</p>
        <a href="/admin/users" class="btn">Gerenciar Usuários</a>
      </div>
      <div class="section-card">
        <h3>Eventos</h3>
        <p>Gerencie eventos, crie novos e acompanhe inscrições.</p>
        <a href="/admin/events" class="btn">Gerenciar Eventos</a>
      </div>
      <div class="section-card">
        <h3>Newsletter</h3>
        <p>Veja inscritos, envie campanhas e acompanhe resultados.</p>
        <a href="/admin/newsletter" class="btn">Gerenciar Newsletter</a>
      </div>
      <div class="section-card">
        <h3>Suporte</h3>
        <p>Acompanhe e responda chamados de suporte dos usuários.</p>
        <a href="/admin/support/chats" class="btn">Ver Atendimentos</a>
      </div>
    </section>

    <nav class="navigation-menu">
      <h2>Navegação</h2>
      <div class="buttons">
        <a href="/" class="btn">Home</a>
        <a href="/logout" class="btn">Sair</a>
      </div>
    </nav>
  </div>
{% endblock %}