{% extends 'layouts/base.twig' %}

{% block styles %}
  <link rel="stylesheet" href="/assets/css/pages/curso/index.css">
{% endblock %}

{% block content %}
<div class="courses-container">

  <h1>Cursos</h1>

  <div class="free-highlight">
    <div class="text">
      <h2>Explore nossos Cursos Gratuitos</h2>
      <p>Aprenda novas habilidades sem pagar nada! Aproveite nossa seleção de cursos 100% gratuitos e comece agora mesmo.</p>
      <a href="/curso?filtro=gratuito" class="btn-primary">Ver Cursos Gratuitos</a>
    </div>
    <div class="image">
      <img src="https://images.unsplash.com/photo-1501504905252-473c47e087f8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y3Vyc29zfGVufDB8fDB8fHww" alt="Cursos gratuitos">
    </div>
  </div>

  <form class="search-form" action="/curso/search" method="get">
    <input type="text" name="q" id="q"
           placeholder="Pesquisar cursos..."
           value="{{ search is defined ? search : '' }}">
    <button type="submit">Buscar</button>
  </form>

  {% if courses is empty %}
    <p class="no-courses">Não há cursos disponíveis.</p>
  {% else %}
    <div class="grid-cards">
      {% for course in courses %}
        <div class="card">
          <div class="card-header">
            <h3>{{ course.title }}</h3>
            <span class="status {{ course.status }}">{{ course.status|capitalize }}</span>
          </div>
          <p class="price">{{ course.getFormattedPrice() }}</p>
          <p class="members">Membros: {{ course.getMemberCount() }}</p>
          <a href="/curso/{{ course.id }}" class="btn-detail">Ver Detalhes</a>
        </div>
      {% endfor %}
    </div>
  {% endif %}

</div>
{% endblock %}
