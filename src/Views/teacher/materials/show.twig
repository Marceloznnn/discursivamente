{% extends 'layouts/base.twig' %}

{% block title %}Detalhes do Material{% endblock %}

{% block styles %}
<link rel="stylesheet" href="/assets/css/pages/teacher/materials/show.css">
{% endblock %}

{% block content %}
<div class="material-details-container">
    <nav class="breadcrumb">
        <a href="/teacher/materials">Materiais</a> &raquo; <span>{{ material.title }}</span>
    </nav>

    <section class="material-header">
        <h1 class="material-title">{{ material.title }}</h1>
        <div class="material-actions">
            <a href="/teacher/materials/{{ material.id }}/edit" class="btn btn-edit">Editar</a>
            <form method="POST" action="/teacher/materials/{{ material.id }}/delete" class="inline-form" onsubmit="return confirm('Tem certeza que deseja excluir este material?');">
                <button type="submit" class="btn btn-delete">Excluir</button>
            </form>
        </div>
    </section>

    <section class="material-info">
        <p class="material-description">{{ material.description|default('Sem descrição.') }}</p>
        <ul class="material-meta">
            <li><strong>Criado em:</strong> {{ material.created_at|date('d/m/Y H:i') }}</li>
            <li><strong>Status:</strong> {{ material.status|capitalize }}</li>
            {% if material.attachment %}
                <li><strong>Anexo:</strong> <a href="{{ material.attachment.url }}" target="_blank">{{ material.attachment.name }}</a></li>
            {% endif %}
        </ul>
    </section>

    <section class="material-entries">
        <h2>Entradas Relacionadas</h2>
        {% if entries is not empty %}
            <ul class="entries-list">
                {% for entry in entries %}
                    <li class="entry-item">
                        <span class="entry-title">{{ entry.title }}</span>
                        {% if entry.type %}<span class="entry-type">({{ entry.type }})</span>{% endif %}
                        {% if entry.link %}<a href="{{ entry.link }}" class="entry-link">Ver</a>{% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="no-entries">Nenhuma entrada relacionada encontrada.</p>
        {% endif %}
    </section>

    <div class="back-link">
        <a href="/teacher/materials" class="btn btn-back">&larr; Voltar para lista de materiais</a>
    </div>
</div>
{% endblock %}
