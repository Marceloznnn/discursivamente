{# templates/teacher/courses/comments.twig #}
{% extends 'layouts/base.twig' %}

{% block title %}Comentários do Curso – {{ course.getTitle() }}{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="/assets/css/pages/curso/teacher/comments.css">
{% endblock %}

{% block content %}
  <section class="comments-page">
    <header class="comments-header">
      <h1><i class="fas fa-comment-alt"></i> Comentários: {{ course.getTitle() }}</h1>
      <a href="/teacher/courses/{{ course.getId() }}" class="btn btn-back">
        <i class="fas fa-arrow-left"></i> Voltar aos Detalhes
      </a>
    </header>

    <div class="comments-container">
      {% if comments is not empty %}
        {% for comment in comments %}
          <div class="comment-card">
            <div class="comment-meta">
              <span class="meta-user"><i class="fas fa-user"></i> {{ comment.getUserId() }}</span>
              <span class="meta-date"><i class="fas fa-clock"></i> {{ comment.getCreatedAt()|date('d/m/Y H:i') }}</span>
              <span class="meta-rating"><i class="fas fa-star"></i> {{ comment.getRating() }}/5</span>
            </div>
            <p class="comment-text">{{ comment.getComment() }}</p>
          </div>
        {% endfor %}
      {% else %}
        <div class="no-comments">
          <p>Não há comentários para este curso.</p>
        </div>
      {% endif %}
    </div>
  </section>
{% endblock %}