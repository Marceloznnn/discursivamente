{# templates/profile/index.twig #}
{% extends 'layouts/base.twig' %}

{% block title %}Meu Perfil{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="/assets/css/pages/profile/index.css">
{% endblock %}

{% block content %}
<div id="profile-page">
  <div id="profile-card">
    <!-- Header com avatar e info -->
    <div id="profile-header">
      <div id="avatar-wrapper">
        <img
          id="profile-avatar"
          src="{{ user.avatar ?: '/assets/default-avatar.png' }}"
          alt="Avatar de {{ user.name }}"
        >
        <!-- Botão para trocar foto -->
        <form
          id="avatar-form"
          action="/profile/avatar"
          method="post"
          enctype="multipart/form-data"
        >
          <label for="avatar-upload" id="avatar-label">
            <i class="fas fa-camera"></i>
            <input
              type="file"
              id="avatar-upload"
              name="avatar"
              accept="image/*"
              onchange="this.form.submit()"
            >
          </label>
        </form>
      </div>
      <div id="user-info">
        <h2 id="user-name">{{ user.name }}</h2>
        <p id="user-email">{{ user.email }}</p>
      </div>
    </div>

    <!-- Biografia -->
    <section id="profile-bio">
      <h3>Biografia</h3>
      <p>{{ user.bio ?: 'Ainda não adicionou uma biografia.' }}</p>
    </section>

    <!-- Ações -->
    <div id="profile-actions">
      <a href="/logout" id="btn-logout">Sair</a>
      <a href="/profile/edit" id="btn-edit">Editar Perfil</a>
    </div>
  </div>
</div>
{% endblock %}
