{% extends 'layouts/base.twig' %}

{% block styles %}
    <link rel="stylesheet" href="/assets/css/pages/auth/login.css">
{% endblock %}

{% block content %}
    <div class="auth-container">
        <div class="auth-branding">
            <img src="/assets/images/logo/logo.png" alt="Discursivamente" class="auth-logo">
            <h1>Bem-vindo de volta</h1>
            <p>Acesse sua conta para continuar</p>
        </div>

        {% if error %}
            <div class="alert alert-danger">
                <i class="icon-warning"></i>
                <div class="alert-content">
                    <strong>Erro no login:</strong> {{ error }}
                    {% if error == "Credenciais inválidas" %}
                        <p>Verifique seu e-mail e senha ou <a href="/forgot-password">recupere sua senha</a>.</p>
                    {% endif %}
                </div>
            </div>
        {% endif %}

        <form action="/login" method="POST" class="auth-form">
            <div class="form-group">
                <label for="email">E-mail</label>
                <div class="input-with-icon">
                    <i class="icon-mail"></i>
                    <input type="email" id="email" name="email" required placeholder="seu@email.com">
                </div>
            </div>

            <div class="form-group">
                <label for="password">Senha</label>
                <div class="input-with-icon">
                    <i class="icon-lock"></i>
                    <input type="password" id="password" name="password" required placeholder="••••••••">
                    <button type="button" class="toggle-password" aria-label="Mostrar senha">
                        <i class="icon-eye"></i>
                    </button>
                </div>
            </div>

            <div class="form-options">
                <label class="checkbox-container">
                    <input type="checkbox" name="remember_me">
                    <span class="checkmark"></span>
                    Lembrar-me
                </label>
                <a href="/forgot-password">Esqueci minha senha</a>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn primary">Entrar</button>
            </div>

            <div class="social-login">
                <p>Ou entre com</p>
                <div class="social-buttons">
                    <button type="button" class="btn social google">
                        <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M12.545 10.239v3.821h5.445c-0.712 2.315-2.647 3.972-5.445 3.972-3.332 0-6.033-2.701-6.033-6.032s2.701-6.032 6.033-6.032c1.498 0 2.866 0.549 3.921 1.453l2.814-2.814c-1.786-1.667-4.166-2.685-6.735-2.685-5.522 0-10 4.477-10 10s4.478 10 10 10c8.396 0 10-7.524 10-10 0-0.671-0.069-1.325-0.189-1.955h-9.811z"/>
                        </svg>
                        <span>Continuar com Google</span>
                    </button>
                </div>
            </div>

            <div class="form-links">
                Não tem uma conta? <a href="/register">Cadastre-se</a>
            </div>
        </form>
    </div>
{% endblock %}

{% block scripts %}
    <script src="/assets/js/pages/auth/auth.js"></script>
{% endblock %}